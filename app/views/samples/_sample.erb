<section class="sample" id="sample_<%= sample.id %>">
	<p>
	<% if sample.sample_number.present? %>
		Sample # <%= sample.sample_number %><br>
	<% end %>
	<% if sample.batch.present? %>
		Roast: <%= sample.batch.roast.name %><br>
	<% end %>
	<% if sample.batch.present? %>
		Roastery: <%= sample.batch.roast.roastery.name %><br>
	<% end %>
	<% if sample.batch.present? %>
		Roasted on: <%= sample.batch.roasted_on.to_s(:long) %><br>
	<% end %>
	<% if sample.color.present? %>
		Roast Level: <%= sample.color %><br>
	<% end %>
	</p>
<!-- Dry Fragrances	 -->
	<% if sample.cupping_dry_fragrances.present? %>
		<%= render :partial => "cupping_dry_fragrances/cupping_dry_fragrance",
		           :collection => sample.cupping_dry_fragrances %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_dry_fragrances.build, :remote => true) do |f| %>
				<h1>Dry Fragrance:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.label :intensity %>
		    <%= f.select :intensity, options_for_select([["5", "5"], ["4", "4"], ["3", "3"], ["2", "2"], ["1", "1"], ["0", "0"]]), :prompt => true %><br>
		    <%= f.label :notes %>
		    <%= f.text_field :notes %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
<!-- Crust Aromas	 -->
	<% if sample.cupping_crust_aromas.present? %>
		<%= render :partial => "cupping_crust_aromas/cupping_crust_aroma",
		           :collection => sample.cupping_crust_aromas %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_crust_aromas.build, :remote => true) do |f| %>
				<h1>Crust Aroma:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
		    <%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.label :intensity %>
		    <%= f.select :intensity, options_for_select([["5", "5"], ["4", "4"], ["3", "3"], ["2", "2"], ["1", "1"], ["0", "0"]]), :prompt => true %><br>
		    <%= f.label :notes %>
		    <%= f.text_field :notes %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
<!-- Break Aromas	 -->
	<% if sample.cupping_break_aromas.present? %>
		<%= render :partial => "cupping_break_aromas/cupping_break_aroma",
		           :collection => sample.cupping_break_aromas %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_break_aromas.build, :remote => true) do |f| %>
					<h1>Break Aroma:</h1>
					<%= f.hidden_field :sample_id, :value => sample.id %>
				  <%= f.label :score %>
					<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
					<%= f.label :intensity %>
			    <%= f.select :intensity, options_for_select([["5", "5"], ["4", "4"], ["3", "3"], ["2", "2"], ["1", "1"], ["0", "0"]]), :prompt => true %><br>
			    <%= f.label :notes %>
			    <%= f.text_field :notes %><br>
			    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
<!-- Defects	 -->
	<% if sample.cupping_defects.present? %>
		<%= render :partial => "cupping_defects/cupping_defect",
		           :collection => sample.cupping_defects %>
	<% else %>
	<section>
			<%= form_for(sample.cupping_defects.build, :remote => true) do |f| %>
				<h1>Defects:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
		    <%= f.label :number_of_cups %>
			  <%= f.select :number_of_cups, options_for_select([["5", "5"], ["4", "4"], ["3", "3"], ["2", "2"], ["1", "1"], ["0", "0"]], selected = ["0", "0"]) %><br>
				<%= f.label :intensity %>
				<%= f.select :intensity, options_for_select([["Fault(4)", "4"], ["Taint(2)", "2"], ["0", "0"]], selected = ["0", "0"]) %><br>
			  <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>


<!-- flavors	 -->
	<% if sample.cupping_flavors.present? %>
		<section id="flavor-show">
			<h1>Flavor: </h1>
			Score: <%= sample.cupping_flavors.average(:score).to_i %>
			<% if sample.cupping_flavors.map(&:notes).compact.reject(&:blank?).to_sentence.downcase.present? %>
				<br>Notes: <%= sample.cupping_flavors.map(&:notes).compact.reject(&:blank?).to_sentence.downcase %>
			<% end %>
			<br><%= link_to 'Manage', cupping_flavors_path(:sample_id => sample.id) %>
		</section>
		<section class="another-flavor">
			<%= form_for(sample.cupping_flavors.build, :remote => true) do |f| %>
				<h1>Another Flavor:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
				<%= f.label :notes %>
		    <%= f.text_field :notes %><br>
		    <%= f.submit "Record another" %>
			<% end %>
		</section>
	<% else %>
		<section id="flavor-show"></section>
		<%= form_for(sample.cupping_flavors.build, :remote => true) do |f| %>
			<span id="flavor-to-another">
				<h1>Flavor:</h1>
			</span>
			<%= f.hidden_field :sample_id, :value => sample.id %>
		  <%= f.label :score %>
			<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>	    
			<%= f.label :notes %>
	    <%= f.text_field :notes %><br>
	    <%= f.submit "Record" %>
		<% end %>
	<% end %>


<!-- After taste	 -->
	<% if sample.cupping_after_tastes.present? %>
		<section id="after-tastes-show">
			<h1>After Taste:</h1>
			Score: <%= sample.cupping_after_tastes.average(:score).to_i %>
			<% if sample.cupping_after_tastes.map(&:notes).compact.reject(&:blank?).to_sentence.downcase.present? %>
				<br>Notes: <%= sample.cupping_after_tastes.map(&:notes).compact.reject(&:blank?).to_sentence.downcase %>
			<% end %>
			<br><%= link_to 'Manage', cupping_after_tastes_path(:sample_id => sample.id) %>
		</section>
		<section class="another-after-taste">
			<%= form_for(sample.cupping_after_tastes.build, :remote => true) do |f| %>
				<h1>Another After Taste:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.label :notes %>
		    <%= f.text_field :notes %><br>
		    <%= f.submit "Record another" %>
			<% end %>
		</section>
	<% else %>
		<section id="after-tastes-show"></section>
		<%= form_for(sample.cupping_after_tastes.build, :remote => true) do |f| %>
			<span id="after-taste-to-another">
				<h1>After Taste:</h1>
			</span>
			<%= f.hidden_field :sample_id, :value => sample.id %>
		  <%= f.label :score %>
			<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
	    <%= f.label :notes %>
	    <%= f.text_field :notes %><br>
	    <%= f.submit "Record" %>
		<% end %>
	<% end %>
	
<!-- Acidities	 -->
	<% if sample.cupping_acidities.present? %>
		<%= render :partial => "cupping_acidities/cupping_acidity",
		           :collection => sample.cupping_acidities %>
	<% else %>
	<section>
		<%= form_for(sample.cupping_acidities.build, :remote => true) do |f| %>
			<h1>Acidity:</h1>
			<%= f.hidden_field :sample_id, :value => sample.id %>
		  <%= f.label :score %>
	    <%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
	    <%= f.label :intensity %>
	    <%= f.select :intensity, options_for_select([["5", "5"], ["4", "4"], ["3", "3"], ["2", "2"], ["1", "1"], ["0", "0"]]), :prompt => true %><br>
	    <%= f.submit "Record" %>
		<% end %>
	</section>
<% end %>

<!-- Mouthfeels	 -->
	<% if sample.cupping_mouthfeels.present? %>
		<%= render :partial => "cupping_mouthfeels/cupping_mouthfeel",
		           :collection => sample.cupping_mouthfeels %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_mouthfeels.build, :remote => true) do |f| %>
				<h1>Mouthfeel:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.label :weight %>
				<%= f.select :weight, options_for_select([["5", "5"], ["4", "4"], ["3", "3"], ["2", "2"], ["1", "1"], ["0", "0"]]), :prompt => true %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
	
<!-- Balance	 -->
	<% if sample.cupping_balances.present? %>
		<%= render :partial => "cupping_balances/cupping_balance",
		           :collection => sample.cupping_balances %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_balances.build, :remote => true) do |f| %>
				<h1>Balance:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
	
<!-- Sweetness	 -->
	<% if sample.cupping_sweetnesses.present? %>
		<%= render :partial => "cupping_sweetnesses/cupping_sweetness",
		           :collection => sample.cupping_sweetnesses %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_sweetnesses.build, :remote => true) do |f| %>
				<h1>Sweetness:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><h1>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>

<!-- Uniformity	 -->
	<% if sample.cupping_uniformities.present? %>
		<%= render :partial => "cupping_uniformities/cupping_uniformity",
		           :collection => sample.cupping_uniformities %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_uniformities.build, :remote => true) do |f| %>
				<h1>Uniformity:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
	
<!-- Clean Cup	 -->
	<% if sample.cupping_clean_cups.present? %>
		<%= render :partial => "cupping_clean_cups/cupping_clean_cup",
		           :collection => sample.cupping_clean_cups %>
	<% else %>	
		<section>
			<%= form_for(sample.cupping_clean_cups.build, :remote => true) do |f| %>
				<h1>Clean Cup:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
	
<!-- Overall	 -->
	<% if sample.cupping_overalls.present? %>
		<%= render :partial => "cupping_overalls/cupping_overall",
		           :collection => sample.cupping_overalls %>
	<% else %>
		<section>
			<%= form_for(sample.cupping_overalls.build, :remote => true) do |f| %>
				<h1>Overall:</h1>
				<%= f.hidden_field :sample_id, :value => sample.id %>
			  <%= f.label :score %>
				<%= f.select :score, options_for_select([["Exceptional(10)", "10"], ["Outstanding(9)", "9"], ["Excellent(8)", "8"], ["Very good(7)", "7"], ["Good(6)", "6"], ["Average(5)", "5"], ["Fair(4)", "4"], ["Poor(3)", "3"], ["Very poor(2)", "2"], ["Unacceptable(1)", "1"], ["Not present(0)", "0"]], selected = ["Good(6)", "6"]) %><br>
		    <%= f.submit "Record" %>
			<% end %>
		</section>
	<% end %>
	
<!-- total score -->
	<section id="total">		
		<%= render "cupping_total_scores/cupping_total_score", :sample => sample %>
	</section>
</section>